{"id":4099,"date":"2019-03-24T18:02:23","date_gmt":"2019-03-24T18:02:23","guid":{"rendered":"https:\/\/help.perfexcrm.com\/?p=4099"},"modified":"2019-03-24T20:30:14","modified_gmt":"2019-03-24T20:30:14","slug":"module-views","status":"publish","type":"post","link":"https:\/\/help.perfexcrm.com\/module-views\/","title":{"rendered":"Module Views"},"content":{"rendered":"\n<p>In most cases, you will want your module to have <a href=\"https:\/\/www.codeigniter.com\/user_guide\/general\/views.html\">view (html) files<\/a> to be outputted to the user e.q. for a feature inside the admin area with form and inputs or some custom feature that will be used for the clients area.<\/p>\n\n\n\n<p>If you haven&#8217;t worked with Codeigniter views, you should check their <a href=\"https:\/\/www.codeigniter.com\/user_guide\/general\/views.htmlhttps:\/\/www.codeigniter.com\/user_guide\/general\/views.html\">official documentation<\/a> to get more familiar. <\/p>\n\n\n\n<p>To create views for your module you must create <strong>views<\/strong> folder in \/modules\/<strong>[module_name]<\/strong><\/p>\n\n\n\n<p>After you create the folder views the path will be:  <br><strong>\/modules\/[module_name]\/views<\/strong><\/p>\n\n\n\n<p>The views <g class=\"gr_ gr_11 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"11\" data-gr-id=\"11\">files<\/g> intended to output HTML but the file names must end with .php, for example [module_name]\/views\/form.php<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Loading View Files In Admin Area<\/h3>\n\n\n\n<p>The process of loading views in the admin area is the same regular process Codeigniter uses e.q. in your module <a href=\"https:\/\/help.perfexcrm.com\/module-controllers\">controller <\/a>at the very end of the method add:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>$this->load->view('form');<\/code><\/pre>\n\n\n\n<h4 class=\"wp-block-heading\">Sample Admin View<\/h4>\n\n\n\n<p>Perfex CRM does not have any template engine for the admin view, probably you will want to use the header and sidebar for the admin area and all required Javascript\/CSS files, in this case, you can use 2 functions <strong>init_head()<\/strong> and <strong>init_tail()<\/strong> in your view to achieving this.<\/p>\n\n\n\n<p>Find an example below for a view file intended for the admin area.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;?php defined('BASEPATH') or exit('No direct script access allowed'); ?>\n&lt;?php init_head(); ?>\n&lt;div id=\"wrapper\">\n   &lt;div class=\"content\">\n      &lt;div class=\"row\">\n         &lt;div class=\"col-md-12\">\n            &lt;div class=\"panel_s\">\n               &lt;div class=\"panel-body\">\n               &lt;\/div>\n            &lt;\/div>\n         &lt;\/div>\n      &lt;\/div>\n   &lt;\/div>\n&lt;\/div>\n&lt;?php init_tail(); ?>\n&lt;\/body>\n&lt;\/html><\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\">Loading View Files in Clients Area<\/h3>\n\n\n\n<p>The <g class=\"gr_ gr_3 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"3\" data-gr-id=\"3\">clients<\/g> area has a slightly different process of loading the files because uses a theme, in this case, you will want your module to get the theme footer and header, including any CSS and Javascript files.<\/p>\n\n\n\n<p>When your module needs to load a view file for the theme area, make sure that your controller extends the <strong>ClientsController<\/strong>.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;?php\n\ndefined('BASEPATH') or exit('No direct script access allowed');\n\nclass Sample_module extends ClientsController\n{\n    public function index()\n    {\n        \/**\n         * Pass data to the view\n         *\/\n        $this->data(['sample_data' => []]);\n\n        \/**\n         * Set page title\n         *\/\n        $this->title('Page Title');\n\n        \/**\n         * The view name\n         *\/\n        $this->view('participate');\n        \/**\n         * Render the layout\/view\n         *\/\n        $this->layout();\n    }\n}\n<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\">Loading View Files in Other Location<\/h3>\n\n\n\n<p>The views in most cases are loaded from the controllers, but if you want to load view file e.q. from helper or custom PHP class or function, you will need to prefix the file with your module name. <\/p>\n\n\n\n<p>Here is a quick example<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>function module_name_load_customer_form(){\n\t$CI = &amp;get_instance();\n\t$CI->load->view('module_name\/form');\n}<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\">Working With Forms<\/h3>\n\n\n\n<p>Click <a href=\"https:\/\/help.perfexcrm.com\/working-with-forms\/\">here<\/a> to read more about working with forms in views.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>In most cases, you will want your module to have view (html) files to be outputted to the user e.q. for a feature inside the admin area with form and inputs or some custom feature that will be used for the clients area. If you haven&#8217;t worked with Codeigniter views, you should check their official [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[54],"tags":[],"class_list":["post-4099","post","type-post","status-publish","format-standard","hentry","category-modules"],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/4099","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/comments?post=4099"}],"version-history":[{"count":0,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/4099\/revisions"}],"wp:attachment":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/media?parent=4099"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/categories?post=4099"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/tags?post=4099"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}