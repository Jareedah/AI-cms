{"id":2182,"date":"2017-10-13T12:42:42","date_gmt":"2017-10-13T12:42:42","guid":{"rendered":"https:\/\/help.perfexcrm.com\/?p=2182"},"modified":"2022-06-16T11:02:14","modified_gmt":"2022-06-16T11:02:14","slug":"applying-security-measures","status":"publish","type":"post","link":"https:\/\/help.perfexcrm.com\/applying-security-measures\/","title":{"rendered":"Applying Security Measures"},"content":{"rendered":"<h3>Use 2-factor Email Authentication For Admin Area<\/h3>\n<p>In <a href=\"https:\/\/help.perfexcrm.com\/version-1-9-0\/\">version 1.9.0<\/a> we have added 2-factor authentication for staff members in order to increase the security while logging in to the admin area. Each staff member created in the system can have enabled 2-factor authentication.<\/p>\n<p><strong>The 2-factor authentication is provided via email<\/strong>, which means after staff enters his login credentials correctly <strong>the system will send unique authentication key via email<\/strong> in order the staff to log in successfully will need to enter the authentication key.<\/p>\n<p>Staff members can enable 2-factor authentication by clicking on the top menu dropdown then <strong>Edit Profile<\/strong> link, meanwhile admins or staff with permissions for staff EDIT will be able to change this option for each staff member in <strong>Setup-&gt;Staff<\/strong>.<\/p>\n<p><strong id=\"disable_2factor_auth\">Disable 2-factor authentication<\/strong><\/p>\n<p>In case you got locked when 2-factor authentication is enabled and for some reason the system can&#8217;t send an email to provide you authentication code, you will need to disable 2-factor authentication via <strong>phpmyadmin<\/strong>.<\/p>\n<p>Login to PHPMyAdmin, select Perfex CRM database, find table tblstaff and update the <strong>two_factor_auth_enabled<\/strong> column to 0<\/p>\n<h3>Enable CSRF Protection (from v1.9.4)<\/h3>\n<p><strong>NOTE:<\/strong> If you performed a clean install of version 2.0 or above, <strong>this option will be by default enabled<\/strong>, don&#8217;t add again the code if it&#8217;s already in the config file.<\/p>\n<p><strong>Starting from version 1.9.4<\/strong> we have implemented additional security feature in Perfex CRM, this feature by default will be disabled ATM because it&#8217;s still in beta mode and customers can enable the feature manually by just adding a simple constant in the app-config.php file.<\/p>\n<p>After we confirm that everything works fine with this feature enabled we will by default enable CSRF protection in Perfex\u00a0CRM, in case you are experiencing some issues while this feature is enabled, don&#8217;t hesitate to open support ticket by clicking <a href=\"https:\/\/my.perfexcrm.com\">here<\/a><\/p>\n<p>In order to enable this feature via cPanel\/Ftp navigate from your Perfex CRM installation to application\/config\/app-config.php and add the following code at the bottom of this file:<\/p>\n<pre class=\"lang:default decode:true\">\/**\n * Enables CSRF Protection\n *\/\ndefine('APP_CSRF_PROTECTION',true);<\/pre>\n<h3>Enable Google reCaptcha<\/h3>\n<p>To prevent spam bots brute forcing your login areas it&#8217;s recommended to enable Google reCaptcha feature for clients register, clients log in, and admin\/staff login.<\/p>\n<p>Click <a href=\"https:\/\/help.perfexcrm.com\/add-google-recaptcha\/\">here <\/a>to see a detailed explanation how to configure Google reCaptcha<\/p>\n<h3>Enable Honeypot Spam Validation (from v.2.9.4)<\/h3>\n<p>If you are receiving spam registrations, we strongly recommend enabling Honeypot spam technique in Setup-&gt;Settings-&gt;Customers<\/p>\n<h3>Use Stronger Passwords<\/h3>\n<p>Perfex CRM by default does not have any logic to detect if the passwords are strong enough but it&#8217;s recommended staff members to use\/generate a stronger password.<\/p>\n<p>When creating staff member or contact in the password field there is an generate icon which will generate for you strong enough password which will be harder spam bots to guess it.<\/p>\n<h3><strong>Add Cron Job URL Key (from v1.9.4).<\/strong><\/h3>\n<p>The cron\u00a0 job URL\u00a0which is different for each system based on the domain and installation folder\/path is different for each Perfex CRM installation, however, this URL can be easily guessed because there is no keys protection or additional salts appended to the URL. In order to prevent direct access to this URL, it&#8217;s recommended to add cron job key.<\/p>\n<p>Make sure you use a different salt key, in this example, we will use the following key: <strong>ty543dtry634as5<\/strong><\/p>\n<p>Let&#8217;s assume that your current\u00a0cron job is <strong>http:\/\/yourdomain.com\/crm\/cron\/index<\/strong> after you define the key you cron job URL will be changed to http:\/\/yourdomain.com\/crm\/cron\/index\/<strong>ty543dtry634as5<\/strong><\/p>\n<p>In order to enable this feature via cPanel\/Ftp navigate from your Perfex CRM installation to application\/config\/app-config.php and add the following code at the bottom of this file:<\/p>\n<pre class=\"lang:default decode:true \">\/**\n * Add Additional Cron Job URL Key\n *\/\ndefine('APP_CRON_KEY','ty543dtry634as5');<\/pre>\n<div class=\"st-alert st-alert- \"> If your cron job is already properly <a href=\"https:\/\/help.perfexcrm.com\/setup-cron-job\/\">configured <\/a>with the old URL, you will need to update your current cron job URL with the new one in order to work properly with the newly created key. Your new cron job URL can be found at Setup-&gt;Settings-&gt;Cron Job.<\/div>\n<h3 id=\"spam_bots\">Bad user agents blocker (from v2.0.0)<\/h3>\n<p>From version 2.0.0 there are additional security features added in Perfex CRM that will help you to block known bad user agents, this feature will help you to fight with spam.<\/p>\n<p>In order to enable this feature via cPanel\/Ftp navigate from your Perfex CRM installation to application\/config\/app-config.php and add the following code at the bottom of this file:<\/p>\n<pre class=\"lang:default decode:true \">\/\/ Enables bad user agents block\ndefine('APP_BAD_USER_AGENT_BLOCK', true);<\/pre>\n<h3>Admin access only from specific IP address via .htaccess<\/h3>\n<p>If you have a <strong>dynamic IP address, please ignore this<\/strong> because in all cases this won&#8217;t work properly and you will be blocked from admin area each time your ISP changes the IP address.<\/p>\n<p>If you access Perfex CRM admin area only from your home\/office IP address, you can block any other requests to admin area by IP address. Keep in mind that if you apply this, you or your staff members won&#8217;t be able to access the Perfex CRM admin area from other IP addresses eq their home, from mobile data etc&#8230;<\/p>\n<p>In order to achieve this, in your Perfex CRM installation directory find the main <strong>.htaccess<\/strong> file and on the top add:<\/p>\n<pre class=\"lang:default decode:true \"># My office IP address\nRewriteCond %{REMOTE_ADDR} !^xxx\\.xxx\\.xxx\\.xxx\n# You can add additional IP address eq. home IP\n# RewriteCond %{REMOTE_ADDR} !^xxx\\.xxx\\.xxx\\.xxx\nRewriteCond %{REQUEST_URI} \/admin [NC]\nRewriteRule ^ - [F]<\/pre>\n<p>Replace the <strong>xxx<\/strong> with the actual IP address you want to allow access from.<\/p>\n<p><strong>In case you are blocked, just remove the code you added in the .htaccess file.<\/strong><\/p>\n<h3>Disable Customers Area<\/h3>\n<p>Some customers don&#8217;t use the customers area at all, <strong>in case you are one of the users that don&#8217;t use the customers area<\/strong> and use Perfex CRM only for internal usage you can disable access to customers area.<\/p>\n<p>Click <a href=\"https:\/\/help.perfexcrm.com\/disabling-customers-area\/\">here <\/a>to read more how to disable customers area.<\/p>\n<h3>Use HTTPS Connection<\/h3>\n<p>The admin and customers area can be more secure when using HTTPS connection.<\/p>\n<ul>\n<li>If you already have installed Perfex CRM on HTTP connection click <a href=\"https:\/\/help.perfexcrm.com\/switch-to-https-after-installing-to-http\/\">here <\/a>to read how to change to HTTPS<\/li>\n<li>When performing fresh install you only need to make sure to enter the <a href=\"https:\/\/help.perfexcrm.com\/faq\/what-is-base-url\/\">Base URL<\/a> in the last step to start with HTTPS<\/li>\n<\/ul>\n<p>Before using HTTPS connections make sure that you have valid SSL certificate installed on your server.<\/p>\n<p>===<\/p>\n<p><strong>We will update this article when new security features are developed in Perfex CRM.<\/strong><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Use 2-factor Email Authentication For Admin Area In version 1.9.0 we have added 2-factor authentication for staff members in order to increase the security while logging in to the admin area. Each staff member created in the system can have enabled 2-factor authentication. The 2-factor authentication is provided via email, which means after staff enters [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[26],"tags":[],"class_list":["post-2182","post","type-post","status-publish","format-standard","hentry","category-general-informations"],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/2182","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/comments?post=2182"}],"version-history":[{"count":0,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/2182\/revisions"}],"wp:attachment":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/media?parent=2182"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/categories?post=2182"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/tags?post=2182"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}