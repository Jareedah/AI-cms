{"id":281,"date":"2017-02-12T09:56:50","date_gmt":"2017-02-12T09:56:50","guid":{"rendered":"https:\/\/help.perfexcrm.com\/?p=281"},"modified":"2021-11-17T11:37:41","modified_gmt":"2021-11-17T11:37:41","slug":"migrate-to-another-domainhosting","status":"publish","type":"post","link":"https:\/\/help.perfexcrm.com\/migrate-to-another-domainhosting\/","title":{"rendered":"Migrate to another domain\/hosting"},"content":{"rendered":"<div class=\"st-alert st-alert- \">Always backup your files and database before doing anything.<\/div>\n\n\n\n<h3 class=\"wp-block-heading\">Enable debug mode<\/h3>\n\n\n\n<p>Before copying\/moving the files, in your existing installation, enable <strong>debug mode<\/strong> in the main <strong>index.php<\/strong> file as explained <a href=\"https:\/\/help.perfexcrm.com\/faq\/how-to-set-debug-mode\/\">here<\/a>.<\/p>\n\n\n\n<p>This will help to see the errors in case you are having problems or receiving <strong>500 errors<\/strong> after the migration, the error messages that will help you easily to resolve the issue.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Copy\/Move files and database<\/h3>\n\n\n\n<ol class=\"wp-block-list\"><li><strong>Copy <\/strong>Perfex files to a new location or if you are moving to another server you can use cPanel to compress the file to .zip then upload and extract the zip file in your new server.<\/li><li><strong>Export Perfex database<\/strong> (from <strong>phpmyadmin<\/strong>, see instructions below)<\/li><li>In new location, go to <strong>application\/config\/app-config.php<\/strong><\/li><li>In <strong>app-config.php<\/strong>, change base URL to new URL and\u00a0<strong>make sure database name, user and password are correct for the new location.<\/strong><\/li><li><strong>Import the database<\/strong> (.sql) file from phpmyadmin into your new server.<\/li><\/ol>\n\n\n\n<hr class=\"wp-block-separator\"\/>\n\n\n\n<h2 class=\"wp-block-heading\">Migrate old links<\/h2>\n\n\n<div class=\"st-alert st-alert-info \">Follow the steps mentioned below only if you are migrating to another domain, the following steps are to replace any old URL used in the database with the new URL.<\/div>\n\n\n\n<p>After you finish the first steps\u00a0go to <strong>application\/config\/migration.php<\/strong> and<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>$config&#091;'migration_enabled'] = false;<\/code><\/pre>\n\n\n\n<p>To<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>$config&#091;'migration_enabled'] = true;<\/code><\/pre>\n\n\n\n<p>After you enable the migration you need to replace any links contained in the CRM with your old base URL.<\/p>\n\n\n\n<p>Go to <strong>http:\/\/yournewbaseurl.com\/migration\/make?old_base_url=http:\/\/myoldbaseurl.com\/<\/strong><\/p>\n\n\n\n<p>Replace <strong>http:\/\/myoldbaseurl.com\/<\/strong>\u00a0with your old base URL where Perfex CRM was installed. <strong>(the same as it was in application\/app-config.php)<\/strong><\/p>\n\n\n\n<p>Total links replaced will be shown after success check. If is a new installation and doesn&#8217;t have a lot of data don&#8217;t get confused if the total replaced links show zero.<\/p>\n\n\n\n<p><strong>Don&#8217;t forget to turn back migration_enabled to false<\/strong><\/p>\n\n\n\n<p>That is all that needs to be done. If files were copied correctly, the database was imported correctly and files were modified\/checked correctly, Perfex will now function on the new URL.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Disable debug mode<\/h3>\n\n\n\n<p>If you enabled <a href=\"https:\/\/help.perfexcrm.com\/faq\/how-to-set-debug-mode\/\">debug mode<\/a> in the first step, in your new location, <strong>disable debug mode<\/strong> by setting the <strong>ENVIRONMENT <\/strong>constant to <strong>production<\/strong>.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>define('ENVIRONMENT', 'production');<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\">Cron Job Migration<\/h3>\n\n\n\n<p>When you are migrating to another domain or server you must migrate\/re-configure the cron job too on your new server.<\/p>\n\n\n\n<p>Click <a href=\"https:\/\/help.perfexcrm.com\/setup-cron-job\/\">here<\/a> to read more about how to configure your cron job if you are not familiar with it.<\/p>\n\n\n\n<p>Also, if you are migrating to another server, make sure you remove the old cron job to prevent making 404 requests for no reason.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Webhooks migration<\/h3>\n\n\n\n<p>If you have configured any webhooks for <a href=\"https:\/\/help.perfexcrm.com\/stripe\/\" title=\"Stripe Checkout\">Stripe<\/a>, make sure you update the webhooks in the Stripe dashboard to be compatible with your new domain name.<\/p>\n\n\n\n<h4 class=\"wp-block-heading\">How to export the database from phpMyAdmin?<\/h4>\n\n\n\n<ul class=\"wp-block-list\"><li><strong>Login to cPanel <\/strong>and\u00a0search through the cPanel tools, you will be able to find the tool <strong>phpMyAdmin<\/strong>.<\/li><li>Click on phpMyAdmin and a new window will be opened.<\/li><li>Select Perfex CRM installation database.<\/li><\/ul>\n\n\n\n<figure class=\"wp-block-image\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"157\" src=\"https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-1024x157.png\" alt=\"phpMyAdmin export database\" class=\"wp-image-1031\" srcset=\"https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-1024x157.png 1024w, https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-300x46.png 300w, https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-768x117.png 768w, https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-60x9.png 60w, https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin-150x23.png 150w, https:\/\/help.perfexcrm.com\/wp-content\/uploads\/2017\/02\/export-database-phpmyadmin.png 1903w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p><strong>Click Export<\/strong> on the top middle section shown in the\u00a0navigation and then <strong>click Go<\/strong>.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Enable debug mode Before copying\/moving the files, in your existing installation, enable debug mode in the main index.php file as explained here. This will help to see the errors in case you are having problems or receiving 500 errors after the migration, the error messages that will help you easily to resolve the issue. Copy\/Move [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[26],"tags":[],"class_list":["post-281","post","type-post","status-publish","format-standard","hentry","category-general-informations"],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/281","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/comments?post=281"}],"version-history":[{"count":0,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/posts\/281\/revisions"}],"wp:attachment":[{"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/media?parent=281"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/categories?post=281"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/help.perfexcrm.com\/wp-json\/wp\/v2\/tags?post=281"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}